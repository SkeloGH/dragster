<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Dragster</title>
	<link rel="stylesheet" href="/assets/game/css/reset.css">
	<link rel="stylesheet" href="/assets/game/css/custom.css">
</head>
<body>

	<script src="//cdn.jsdelivr.net/phaser/2.5.0/phaser.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		var room_name;
		var rand = Date.now();
		var _uid = (''+rand).slice(9, 13);
		var enemy_name = '';
		var socket = io(undefined, {
			query: {
				uid: _uid
			}
		});
		var enemy_pos_x  = 0;
		var player_pos_x = 0;

		socket.on('user.joined', function(data){
			room_name  = data.room;
			if (data.id != _uid) {
				enemy_name = data.id;
			}
		});

		socket.on('user.update', function(data){
			if (data.u != _uid) {
				enemy_name = data.u;
				enemy_pos_x = data.x;
				enemy_vel_x = data.v;
			}
		});

		socket.on('user.disconnected', function(){
			window.location.reload();
		});
	</script>
	<script type="module" src="/dist/bundle.js"></script>
</body>
</html>